# /screen/embedded_flow_get_report/<purchase_token>  
  
**method:** GET,
**headers:** {"Authorization", "Token <your auth token>"}  
  
This is the url for retrieving your report. If your report is not ready, it will provide status update on the state of your report. 

There are two states that can exist when calling this route

## 1. The report is not yet ready 
If your report is not yet ready, this route will provide status updates about the progress of the report.  

### Example response  
```
{
    "detail": "Tenant has not submitted invite. They have not opened their invite email.",
    "created": "2024-12-29T16:07:31.728743+00:00",
    "success": true,
    "form_url": "https://staging.singlekey.com/screen/request?purchase_token=5ec4a7501ff285c1281a38fef61be8af",
    "tenant_form_url": "https://staging.singlekey.com/screen/tenant?token=GE07YX"
}
```  

### Response object values
1. "detail" - _contains a string explanation of the state of the application. It will be one of the following four states:_
    * "missing or incomplete data" - _there were errors with the submission
    * "Tenant has not submitted invite. They have not opened their invite email."  
    * "Tenant has not submitted invite. They have opened their invite email."  
    * "Report creation in progress" - _all information has been submitted and the report is being generated by the system and will be available shortly_  
2. "form_url" -  _this is the link to the landlord form_  
3. "tenant_form_url" - _this is the link to the tenant form_  


## 2. The Report is Complete

When the report is complete, you will receive more detail in the response.
  
### Example response  
```
{
    "purchase_token": "****Unique_32_Character_Token***",
    "cost": 2999,
    "tax_collected": 0,
    "currency": "USD",
    "data created": "Jan 08/2025, 01:07PM",
    "external_customer_id": "1",
    "external_deal_id": null,
    "landlord_email": "landlord@email.com",
    "external_tenant_id": "tenant1",
    "tenant_email": "example@email.com",
    "credit_card_last_4": null,
    "landlord_has_tenant_info": false,
    "tenant_pays": true,
    "embedded_flow_request": true,
    "api_only_purchase": false,
    "partial": false,
    "report_url": "A link to an s3 file that expires in 5 days",
    "success": true
}
```  

### The Response Object  
* "purchase_token" - _unique 32 character token_  
* "cost" - _cost of the screening before taxes are applied_  
* "tax_collected" - _tax collected for the screening_  
* "currency" - _CAD or USD_  
* "date created" -  - _date created_  
* "external_customer_id" - _the id for the landlord as it appears in your system_  
* "external_deal_id" - _the id for an indentifier for this deal in your system or more likely in a CRM such as CloudForce or Hubspot_  
* "landlord_email" - _landlord email_  
* "external_tenant_id" - _the id for the tenant as it appears in your system_  
* "tenant_email" - _tenant email_
* "credit_card_last_4" - _last four digits of the credit card used to purchase the screening if applicable_
* "landlord_has_tenant_info" - _a boolean that when true indicates an embedded flow request where the landlord used the landlord form and initiated a direct screening of the tenant_  
* "api_only_purchase" - _a boolean that indicates the screening was created with the pure API flow_  
* "partial" - _this boolean flag will be true when we have received the credit information for an applicant but are still waiting on soft check information. In this case a PDF report will be available and when the report is complete the PDF report will be replaced and you will be notified by webhook_  
* "report_url" - _this is a link to a Amazon s3 file. The link will be active for 5 days. You obtain a new link every time you call the route_